#!/bin/sh
# Get volume

string='VOL'
vol_muted='M'

get_volume() {
    is_muted=$(pactl get-sink-mute @DEFAULT_SINK@)
    volume=$(pactl get-sink-volume @DEFAULT_SINK@ | sed -E -n 's/.* ([0-9]+)(%).*/\1 \2/p')

    if [ "$is_muted" = "Mute: yes" ]; then
        echo "$string $vol_muted"
    else
        echo "$string $volume"
    fi
}

get_volume
