#!/bin/sh
# Get volume

string="VOL"
vol_muted="M"

get_volume() {
    volume=$(pactl get-sink-volume @DEFAULT_SINK@ | sed -E -n "s/.* ([0-9]+)(%).*/\1 \2/p")

    case "$(pactl get-sink-mute @DEFAULT_SINK@)" in
        *yes*)
            printf "%s %s\n" "$string" "$vol_muted"
            ;;
        *no*)
            printf "%s %s\n" "$string" "$volume"
            ;;
    esac
}

get_volume
